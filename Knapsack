#include <stdio.h>
struct Item
{
 int weight;
 int profit;
};
void fractionalKnapsack(int W, struct Item items[], int n)
{
 struct Item tempI;
 float ratio[10];
 int i, j;
 int currentWeight = 0;
 float totalprofit = 0.0;
 for (i = 0; i < n; i++)
{
ratio[i] = (float)items[i].profit / items[i].weight;
 }
 // Sorting
 for (i = 0; i < n - 1; i++)
 {
for (j = i + 1; j < n; j++)
{
 if (ratio[i] < ratio[j])
 {
float tempR = ratio[i];
ratio[i] = ratio[j];
ratio[j] = tempR;
tempI = items[i];
items[i] = items[j];
items[j] = tempI;
 }
}
 }
 for (i = 0; i < n; i++)
 {
if (currentWeight + items[i].weight <= W)
{
 currentWeight += items[i].weight;
 totalprofit += items[i].profit;
}
else
{
 int remain = W - currentWeight;
 totalprofit += items[i].profit * ((float)remain / items[i].weight);
 break; // Knapsack is full
}
 }
 printf("Maximum value in Knapsack = %.2f\n", totalprofit);
}
void main()
{
 int W = 15; // Knapsack capacity
 struct Item items[] = {{2,10}, {3,5}, {5,15},{7,7},{1,6},{4,18},{1,3}};
 int n = 7;
 fractionalKnapsack(W, items, n);
Â getch();
}
